<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>ÔDÔRAI - AI Driven Personal Aromatherapist</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;700&family=Orbitron:wght@400;500;600;700;800;900&family=Space+Grotesk:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

    <link rel="stylesheet" href="style.css">
    <style>
        /* 10-Section Homepage Styles */
        
        /* Common Section Styles */
        section[class^="section-"] {
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0;
            margin: 0;
            position: relative;
            overflow: hidden;
        }
        
        .section-content {
            width: 100%;
            max-width: 1920px;
            padding: 0 60px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            height: 100%;
        }

        /* Section 1: Hero Carousel - responsive by image aspect ratio */
        .section-1 {
            height: calc(100vw * (1098 / 1920)); /* fallback height; JS will override to exact image ratio */
            min-height: 0;
            position: relative;
            overflow: hidden;
        }

        .hero-carousel-container {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .hero-carousel {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .hero-carousel-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: contain; /* avoid cropping */
            opacity: 0;
            transition: opacity 0.8s ease-in-out;
            cursor: pointer;
            filter: url(#heroLiquid);
        }

        .hero-carousel-image.active {
            opacity: 1;
        }

        .hero-overlay-content {
            position: absolute;
            bottom: 60px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 10;
            pointer-events: none;
        }

        /* Reveal on scroll */
        .reveal-init {
            opacity: 0;
            transform: translateY(24px);
            transition: opacity 700ms ease, transform 700ms ease;
            will-change: opacity, transform;
        }
        .reveal-visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Tilt */
        .tilt-on-hover {
            transform-style: preserve-3d;
            transition: transform 160ms ease;
            will-change: transform;
        }

        /* Magnetic buttons */
        .magnetic {
            position: relative;
            display: inline-block;
            will-change: transform;
            transition: transform 120ms ease;
        }

        /* Video progress */
        .video-container { position: relative; }
        .video-progress {
            position: absolute;
            left: 0; right: 0; bottom: 0;
            height: 4px;
            background: rgba(255,255,255,0.2);
            overflow: hidden;
        }
        .video-progress-fill {
            width: 0%; height: 100%;
            background: #ff6b00;
            transition: width 80ms linear;
        }

        /* Back to top */
        #back-to-top {
            position: fixed;
            right: 20px;
            bottom: 20px;
            width: 44px; height: 44px;
            display: none;
            align-items: center; justify-content: center;
            border-radius: 50%;
            border: 1px solid rgba(255,255,255,0.15);
            background: rgba(0,0,0,0.6);
            color: #fff;
            z-index: 10000;
            backdrop-filter: blur(6px);
            cursor: pointer;
        }
        #back-to-top.show { display: flex; }

        .launch-announcement {
            text-align: center;
            background: none;
            padding: 0;
            border-radius: 0;
            box-shadow: none;
            backdrop-filter: none;
            pointer-events: all;
        }

        .launch-text {
            font-family: 'NCTTorin', sans-serif;
            font-size: calc(100vw * (22 / 1920));
            font-weight: 400;
            margin-bottom: calc(100vw * (10 / 1920));
            color: #fff;
            letter-spacing: calc(100vw * (2 / 1920));
            text-transform: uppercase;
        }

        .shop-now-link {
            font-family: 'NCTTorin', sans-serif;
            font-size: calc(100vw * (22 / 1920));
            font-weight: 400;
            color: #fff;
            text-decoration: underline;
            text-underline-offset: calc(100vw * (6 / 1920));
            transition: all 0.3s ease;
            display: inline-block;
        }

        .shop-now-link:hover {
            color: #e0e0e0;
            text-decoration: underline;
        }

        .carousel-click-area {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 5;
            cursor: pointer;
        }



        /* Section 2: Brand Introduction - responsive by background image ratio */
        .section-2 {
            height: calc(100vw * (1080 / 1920)); /* fallback; JS will set exact ratio */
            min-height: 0;
            background-image: url('images/section2.png');
            background-size: contain; /* avoid cropping */
            background-position: center top;
            background-repeat: no-repeat;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: background-image 0.5s ease;
        }

        .section-2-content {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 100%;
        }

        .section-2-title {
            font-family: 'NCTTorin', sans-serif;
            font-size: 8rem;
            font-weight: 400;
            color: #fff;
            text-align: center;
            margin: 0;
            letter-spacing: 3px;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
            cursor: pointer;
            transition: transform 0.2s ease, text-shadow 0.2s ease;
        }

        .section-2-title:hover {
            transform: scale(1.05);
            text-shadow: 0 3px 15px rgba(0, 0, 0, 0.5);
        }

        /* Section 3: Product Showcase - 1623px @ 1920px width */
        .section-3 {
            height: calc(100vw * (1623 / 1920));
            min-height: 800px;
            background: #f8f9fa;
            position: relative;
        }

        .section-3-text-content {
            position: absolute;
            top: calc(100vw * (300 / 1920));
            left: 0;
            width: 100%;
            padding: 0 60px;
            z-index: 2; /* ensure above bottom images */
        }

        .section-3-description {
            max-width: 1920px;
            margin: 0 auto;
            text-align: center;
            pointer-events: none; /* prevent accidental hit test with images */
        }

        .section-3-line1,
        .section-3-line2,
        .section-3-line3,
        .section-3-line4 {
            font-family: 'NCTTorin', sans-serif;
            font-size: calc(100vw * (48 / 1920));
            font-weight: 400;
            color: #000;
            margin: 0;
            line-height: 1.2;
        }

        /* Prevent overlap between bottom images and the paragraph above */
        .section-3-line3,
        .section-3-line4 {
            position: relative;
            z-index: 2;
        }

        .section-3-line1 {
            margin-bottom: 0;
        }

        .section-3-line2 {
            margin-bottom: calc(100vw * (48 / 1920)); /* Empty line spacing */
        }

        .section-3-line3 {
            margin-bottom: 0;
        }

        .section-3-line4 {
            margin-bottom: 0;
        }

        .spatial-scents {
            color: #ff0000;
        }

        .section-3-products {
            position: absolute;
            bottom: 0;
            left: calc(100vw * (210 / 1920));
            right: calc(100vw * (210 / 1920));
            height: calc(100vw * (740 / 1920));
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            align-items: end; /* stick children to the bottom */
            padding-bottom: 0;
            gap: 60px; /* 增加間距讓圖片不會太擠 */
        }

        .transparent-product-image {
            width: auto;
            height: calc(100% - var(--img-lift, calc(100vw * (80 / 1920))));
            max-height: calc(100% - var(--img-lift, calc(100vw * (80 / 1920))));
            max-width: calc(100vw * (400 / 1920)); /* 限制最大寬度 */
            display: block;
            object-fit: contain;
            align-self: end;
            margin-bottom: var(--img-lift, calc(100vw * (80 / 1920)));
        }

        .transparent-product-image.clickable {
            cursor: pointer;
            transition: transform 0.2s ease;
        }
        .transparent-product-image.clickable:hover {
            transform: translateY(-6px);
        }

        /* Simple model modal for Section 3 */
        /* Inline model slots in Section 3 */
        .model-slot {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: flex-end;
            justify-content: center;
            background: transparent;
            position: relative;
        }
        .model-slot model-viewer {
            width: 100%;
            height: 100%;
            background: transparent; /* match section background */
            border-radius: 0;
            /* no shadow */
            box-shadow: none;
        }

        .section-3-product-left,
        .section-3-product-right {
            display: flex;
            align-items: flex-end;
            justify-content: center;
            height: 100%;
        }

        .section-3-product-center {
            display: flex;
            flex-direction: column;
            justify-content: flex-end; /* center column content near bottom as images */
        }

        .section-3-product-center {
            text-align: center;
            padding: 0 40px;
            margin-bottom: calc(100vw * (420 / 1920)); /* lift text */
        }

        .product-center-line1 {
            font-family: 'NCTTorin', sans-serif;
            font-size: calc(100vw * (16 / 1920));
            color: #000;
            margin: 0 0 8px 0;
        }

        .product-center-line2 {
            font-family: 'NCTTorin', sans-serif;
            font-size: calc(100vw * (48 / 1920));
            color: #000;
            margin: 0 0 8px 0;
            font-weight: 400;
        }

        .product-center-line3 {
            font-family: 'NCTTorin', sans-serif;
            font-size: calc(100vw * (10 / 1920));
            color: #000;
            margin: 0 0 16px 0;
            background: #fff;
            border: 1px solid #000;
            border-radius: calc(100vw * (8 / 1920));
            padding: calc(100vw * (8 / 1920)) calc(100vw * (16 / 1920));
            display: inline-block;
        }

        .product-center-line4 {
            font-family: 'NCTTorin', sans-serif;
            font-size: calc(100vw * (20 / 1920));
            color: #ff6600;
            margin: 0;
            cursor: pointer;
            transition: color 0.3s ease;
            text-decoration: none;
            display: block;
        }

        .product-center-line4:hover {
            color: #ff4400;
        }

        /* Section 4: Data Analysis - 1080px @ 1920px width */
        .section-4 {
            height: calc(100vw * (1080 / 1920));
            min-height: 600px;
            position: relative;
            overflow: hidden;
        }

        .section-4-video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: 1;
        }

        .section-4-content {
            position: relative;
            z-index: 2;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 40px 20px;
        }

        .section-4-title {
            font-family: 'NCTTorin', sans-serif;
            font-size: calc(100vw * (48 / 1920));
            color: #fff;
            margin: 0 0 calc(100vw * (40 / 1920)) 0;
            font-weight: 400;
            text-align: center;
        }

        .data-image {
            max-width: calc(100vw * (1650 / 1920));
            height: auto;
            margin-bottom: calc(100vw * (40 / 1920));
            min-width: 200px;
        }

        .section-4-text {
            color: #fff;
            max-width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .section-4-description {
            font-family: 'NCTTorin', sans-serif;
            font-size: calc(100vw * (20 / 1920));
            color: #fff;
            margin: 0 0 calc(100vw * (120 / 1920)) 0;
            line-height: 1.4;
            font-weight: 400;
            white-space: nowrap;
            text-align: center;
        }

        .section-4-learn-more {
            font-family: 'NCTTorin', sans-serif;
            font-size: calc(100vw * (16 / 1920));
            color: #fff;
            margin: 0;
            font-weight: 400;
            background: #ff69b4;
            padding: calc(100vw * (16 / 1920)) calc(100vw * (32 / 1920));
            border-radius: calc(100vw * (16 / 1920));
            display: inline-block;
            transition: all 0.3s ease;
        }

        .section-4-learn-more:hover {
            background: #ff1493;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255, 105, 180, 0.3);
        }

        /* Section 5: Advertisement Videos - 1150px @ 1920px width */
        .section-5 {
            height: calc(100vw * (1150 / 1920));
            min-height: 700px;
            background: #000;
            position: relative;
            overflow: hidden;
        }

        .section-5-content {
            position: absolute;
            top: calc(100vw * (78 / 1920));
            left: 0;
            right: 0;
            height: calc(100% - calc(100vw * (78 / 1920)));
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: calc(100vw * (40 / 1920));
            padding: 0;
        }

        .video-container {
            position: relative;
            height: 100%;
            overflow: hidden;
            border-radius: 0;
            transform: translateZ(0);
            transition: transform 300ms ease, box-shadow 300ms ease;
        }

        .video-container::before {
            content: '';
            position: absolute;
            inset: 0;
            border: 1px solid rgba(255,255,255,0.08);
            pointer-events: none;
            z-index: 2;
        }

        .video-container::after {
            content: '';
            position: absolute;
            top: -150%;
            left: -50%;
            width: 60%;
            height: 400%;
            background: linear-gradient(120deg, rgba(255,255,255,0.0) 0%, rgba(255,255,255,0.25) 45%, rgba(255,255,255,0.0) 100%);
            transform: rotate(15deg);
            opacity: 0;
            transition: opacity 300ms ease, transform 800ms ease;
            z-index: 2;
            pointer-events: none;
        }

        /* Video hover effects disabled */
        /* .video-container:hover {
            transform: scale(1.04);
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
        }

        .video-container:hover::after, .video-container.hovering::after {
            opacity: 1;
            transform: translateY(20%) rotate(15deg);
        } */

        .video-container.center-video {
            margin: 0 calc(100vw * (20 / 1920));
        }

        .advertise-video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            filter: saturate(1.05) contrast(1.05);
        }

        /* Audio-reactive bar overlay - DISABLED */
        .audio-bars {
            display: none;
        }
        .audio-bar {
            display: none;
        }

        /* Section 6: Custom Scent Profile Quiz - 926px @ 1920px width */
        .section-6 {
            height: calc(100vw * (926 / 1920));
            min-height: 0;
            background: #000;
            color: #fff;
        }

        .section-6-content {
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0 calc(100vw * (60 / 1920));
        }

        .quiz-intro-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: calc(100vw * (80 / 1920));
            width: 100%;
            max-width: calc(100vw * (1200 / 1920));
            align-items: center;
        }

        .quiz-text-content {
            text-align: left;
        }

        .quiz-main-title {
            font-family: 'NCTTorin', sans-serif;
            font-size: calc(100vw * (48 / 1920));
            color: #fff;
            margin: 0 0 calc(100vw * (30 / 1920)) 0;
            font-weight: 400;
        }

        .quiz-description {
            font-family: 'NCTTorin', sans-serif;
            font-size: calc(100vw * (18 / 1920));
            color: #ccc;
            margin: 0 0 calc(100vw * (40 / 1920)) 0;
            line-height: 1.5;
        }

        .start-quiz-btn {
            font-family: 'NCTTorin', sans-serif;
            font-size: calc(100vw * (16 / 1920));
            background: #ff69b4;
            color: #fff;
            border: none;
            padding: calc(100vw * (16 / 1920)) calc(100vw * (40 / 1920));
            border-radius: calc(100vw * (12 / 1920));
            cursor: pointer;
            transition: background 0.3s ease, transform 0.3s ease;
            font-weight: 400;
        }

        .start-quiz-btn:hover {
            background: #ff1493;
            transform: translateY(-2px);
        }

        .quiz-visual-content {
            display: flex;
            justify-content: center;
        }

        .quiz-preview-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: calc(100vw * (30 / 1920));
            width: 100%;
        }

        .quiz-preview-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            padding: calc(100vw * (30 / 1920));
            background: rgba(255, 255, 255, 0.1);
            border-radius: calc(100vw * (16 / 1920));
            transition: transform 0.3s ease, background 0.3s ease;
        }

        .quiz-preview-item:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.15);
        }

        .preview-icon {
            font-size: calc(100vw * (32 / 1920));
            margin-bottom: calc(100vw * (16 / 1920));
        }

        .quiz-preview-item span {
            font-family: 'NCTTorin', sans-serif;
            font-size: calc(100vw * (14 / 1920));
            color: #fff;
            font-weight: 400;
        }

        /* Quiz Content Styles */
        .quiz-content-section {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center; /* vertically center content */
            align-items: center;
            padding: calc(100vw * (120 / 1920)) calc(100vw * (60 / 1920)) calc(100vw * (60 / 1920));
            max-width: calc(100vw * (1400 / 1920));
            margin: 0 auto;
            min-height: 0;
            box-sizing: border-box;
        }

        .quiz-header {
            text-align: center;
            margin-bottom: calc(100vw * (40 / 1920));
        }

        .quiz-question-title {
            font-family: 'NCTTorin', sans-serif;
            font-size: calc(100vw * (16 / 1920));
            color: #ccc;
            margin: 0 0 calc(100vw * (20 / 1920)) 0;
        }

        .quiz-progress-bar {
            width: 100%;
            height: calc(100vw * (8 / 1920));
            background: rgba(255, 255, 255, 0.2);
            border-radius: calc(100vw * (4 / 1920));
            overflow: hidden;
        }

        .quiz-progress-fill {
            height: 100%;
            background: #ff69b4;
            width: 0%;
            transition: width 0.3s ease;
        }

        .quiz-question-content {
            text-align: center;
            margin-bottom: calc(100vw * (40 / 1920));
        }

        .quiz-question-text {
            font-family: 'NCTTorin', sans-serif;
            font-size: calc(100vw * (32 / 1920));
            color: #fff;
            margin: 0 0 calc(100vw * (40 / 1920)) 0;
            line-height: 1.4;
            max-width: calc(100vw * (1200 / 1920));
            white-space: nowrap;
        }

        .quiz-options {
            display: grid;
            grid-template-columns: repeat(2, calc(100vw * (380 / 1920)));
            gap: calc(100vw * (25 / 1920));
            justify-content: center;
            margin: 0 auto;
            width: 100%;
        }

        .quiz-option {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid transparent;
            border-radius: calc(100vw * (12 / 1920));
            padding: calc(100vw * (25 / 1920));
            color: #fff;
            font-family: 'NCTTorin', sans-serif;
            font-size: calc(100vw * (18 / 1920));
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            min-height: calc(100vw * (80 / 1920));
            display: flex;
            align-items: center;
            justify-content: center;
            width: calc(100vw * (380 / 1920));
            box-sizing: border-box;
        }

        .quiz-option:hover {
            background: rgba(255, 105, 180, 0.2);
            transform: translateY(-2px);
        }

        .quiz-option.selected {
            background: rgba(255, 105, 180, 0.2);
            border-color: #ff69b4;
        }

        /* Navigation styles removed - auto advance on selection */

        /* Quiz Results Styles - Match Product Page */
        .quiz-results-section {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center; /* vertical center */
            justify-content: center; /* horizontal center */
            padding: calc(100vw * (60 / 1920));
            padding-top: calc(100vw * (100 / 1920)); /* move a bit lower */
            box-sizing: border-box;
            min-height: 0; /* allow to center within section height */
        }

        .results-content {
            max-width: calc(100vw * (800 / 1920));
            width: 100%;
            background: rgba(255, 255, 255, 0.95);
            border-radius: calc(100vw * (15 / 1920));
            padding: calc(100vw * (30 / 1920));
            color: #333;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .results-header {
            text-align: center;
            margin-bottom: calc(100vw * (25 / 1920));
        }

        .results-icon {
            font-size: calc(100vw * (32 / 1920));
            margin-bottom: calc(100vw * (10 / 1920));
        }

        .results-title {
            font-family: 'NCTTorin', sans-serif;
            font-size: calc(100vw * (24 / 1920));
            color: #333;
            margin: 0;
        }

        .results-profile-section {
            background: linear-gradient(135deg, #f8f9ff 0%, #e8f2ff 100%);
            border-radius: calc(100vw * (12 / 1920));
            padding: calc(100vw * (25 / 1920));
            margin-bottom: calc(100vw * (20 / 1920));
        }

        .results-profile-title {
            text-align: center;
            margin-bottom: calc(100vw * (15 / 1920));
        }

        .results-profile-name {
            font-family: 'NCTTorin', sans-serif;
            font-size: calc(100vw * (20 / 1920));
            color: #333;
            margin: 0 0 calc(100vw * (5 / 1920)) 0;
        }

        .results-profile-desc {
            font-family: 'NCTTorin', sans-serif;
            font-size: calc(100vw * (14 / 1920));
            color: #666;
            margin: 0;
        }

        .results-formula-container {
            background: white;
            border-radius: calc(100vw * (10 / 1920));
            padding: calc(100vw * (20 / 1920));
        }

        .results-ingredient {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: calc(100vw * (8 / 1920)) 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .results-ingredient:last-child {
            border-bottom: none;
        }

        .results-ingredient-name {
            font-family: 'NCTTorin', sans-serif;
            font-weight: 600;
            color: #333;
            font-size: calc(100vw * (14 / 1920));
        }

        .results-ingredient-percentage {
            font-family: 'NCTTorin', sans-serif;
            font-size: calc(100vw * (12 / 1920));
            color: #666;
            margin-left: calc(100vw * (8 / 1920));
        }

        .results-ingredient-effect {
            font-family: 'NCTTorin', sans-serif;
            font-size: calc(100vw * (11 / 1920));
            color: #888;
        }

        .results-ai-balance {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: calc(100vw * (12 / 1920)) 0;
            border-top: 2px solid #ff69b4;
            margin-top: calc(100vw * (10 / 1920));
        }

        .results-ai-balance-text {
            font-family: 'NCTTorin', sans-serif;
            font-weight: 600;
            color: #ff69b4;
            font-size: calc(100vw * (14 / 1920));
        }

        .results-promise {
            background: #f8f8f8;
            border-radius: calc(100vw * (10 / 1920));
            padding: calc(100vw * (20 / 1920));
            text-align: center;
            margin-bottom: calc(100vw * (20 / 1920));
        }

        .results-promise-title {
            font-family: 'NCTTorin', sans-serif;
            font-size: calc(100vw * (16 / 1920));
            color: #333;
            margin: 0 0 calc(100vw * (10 / 1920)) 0;
        }

        .results-promise-text {
            font-family: 'NCTTorin', sans-serif;
            font-size: calc(100vw * (14 / 1920));
            color: #666;
            margin: 0;
            line-height: 1.5;
        }

        .results-buttons {
            display: flex;
            justify-content: center;
            gap: calc(100vw * (15 / 1920));
        }

        .results-restart-btn, .results-save-btn {
            font-family: 'NCTTorin', sans-serif;
            font-size: calc(100vw * (16 / 1920));
            border: none;
            padding: calc(100vw * (15 / 1920)) calc(100vw * (30 / 1920));
            border-radius: calc(100vw * (25 / 1920));
            cursor: pointer;
            transition: background 0.3s ease;
            font-weight: 600;
        }

        .results-restart-btn {
            background: rgba(255, 255, 255, 0.2);
            color: #666;
            border: 2px solid #ddd;
        }

        .results-restart-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .results-save-btn {
            background: #ff69b4;
            color: #fff;
        }

        .results-save-btn:hover {
            background: #ff1493;
        }

        /* Section 7: White Background - 940px @ 1920px width */
        .section-7 {
            height: calc(100vw * (940 / 1920));
            min-height: 500px;
            background: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .section-7-content {
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        .section-7-text {
            max-width: calc(100vw * (1200 / 1920));
            color: #000;
            font-family: 'NCTTorin', sans-serif;
            text-align: center;
        }

        /* Dynamic text reveal */
        .split-line span {
            display: inline-block;
            transform: translateY(36px) scale(0.98);
            opacity: 0;
            filter: blur(3px);
            transition: transform 700ms cubic-bezier(.2,.8,.2,1), opacity 700ms ease, filter 700ms ease;
            will-change: transform, opacity;
        }
        .split-line.revealed span {
            transform: translateY(0) scale(1);
            opacity: 1;
            filter: blur(0px);
        }

        .section-7-line1 {
            font-size: calc(100vw * (48 / 1920));
            margin: 0 0 calc(100vw * (48 / 1920)) 0;
            line-height: 1.3;
            white-space: nowrap;
            text-align: center;
        }

        .section-7-line2 {
            font-size: calc(100vw * (48 / 1920));
            margin: 0 0 calc(100vw * (12 / 1920)) 0;
            line-height: 1.3;
            white-space: nowrap;
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .section-7-line3 {
            font-size: calc(100vw * (48 / 1920));
            margin: 0 0 calc(100vw * (48 / 1920)) 0;
            line-height: 1.3;
            white-space: nowrap;
            text-align: center;
        }

        .section-7-line4 {
            font-size: calc(100vw * (48 / 1920));
            margin: 0;
            line-height: 1.3;
            white-space: nowrap;
            text-align: center;
        }

        /* Section 8: Customer Experience - 1080px @ 1920px width */
        .section-8 {
            height: calc(100vw * (1080 / 1920));
            min-height: 600px;
            position: relative;
            overflow: hidden;
        }

        .section-8-video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .section-8-overlay {
            position: absolute;
            top: calc(100vw * (80 / 1920));
            left: 50%;
            transform: translateX(-50%);
            z-index: 10;
            text-align: center;
        }

        .section-8-title {
            font-family: 'NCTTorin', sans-serif;
            font-size: calc(100vw * (48 / 1920));
            color: #fff;
            margin: 0;
            font-weight: 400;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        /* Section 8 experience styles removed - now video only */

        /* Section 9: Full-width with preserved aspect ratio (no cropping) */
        .section-9 {
            width: 100vw;
            /* Maintain image aspect ratio: original height 1156 at width 1920 */
            height: calc(100vw * (1156 / 1920));
            min-height: 0; /* allow true proportional height without floor */
            position: relative;
            background-image: url('images/section9.png');
            background-size: contain; /* ensure no cropping */
            background-position: center top; /* center horizontally, align top to avoid extra crop */
            background-repeat: no-repeat;
            color: #fff;
            margin: 0 auto;
            overflow: visible;
        }

        /* Section 9: Background image with navigation buttons */
        .navigation-buttons {
            position: absolute;
            bottom: 30px;
            right: 30px;
            display: flex;
            gap: 15px;
            z-index: 10;
        }

        .nav-btn {
            width: 50px;
            height: 50px;
            border: 2px solid rgba(255, 255, 255, 0.8);
            background: rgba(0, 0, 0, 0.3);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .nav-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: #fff;
            transform: scale(1.1);
        }

        .nav-btn svg {
            color: #fff;
            transition: color 0.3s ease;
        }

        .nav-btn:hover svg {
            color: #fff;
        }



        /* Section 10: Footer */
        .section-10 {
            background: #2c3e50;
            color: #fff;
            padding: 60px 0 30px 0;
            min-height: 400px;
        }

        /* How It Works Modal */
        .video-modal {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 10010;
            padding: 40px;
        }

        .video-modal.show {
            display: flex;
        }

        .video-modal-content {
            position: relative;
            max-width: 90vw;
            max-height: 90vh;
            background: #000;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .video-modal video {
            width: auto;
            height: auto;
            max-width: 90vw;
            max-height: 90vh;
            object-fit: contain;
            background: #000;
            display: block;
        }

        .video-close {
            position: absolute;
            top: 12px;
            right: 12px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255,255,255,0.15);
            color: #fff;
            border: 1px solid rgba(255,255,255,0.25);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 2;
        }

        .video-play-overlay {
            position: absolute;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            background: radial-gradient(circle at center, rgba(0,0,0,0.35), rgba(0,0,0,0.55));
            color: #fff;
            font-family: 'NCTTorin', sans-serif;
            gap: 16px;
            cursor: pointer;
            z-index: 1;
            text-align: center;
            padding: 20px;
        }

        .video-play-overlay .play-circle {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background: rgba(255,255,255,0.2);
            border: 2px solid rgba(255,255,255,0.6);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .video-play-overlay .play-circle:before {
            content: '';
            display: block;
            margin-left: 4px;
            width: 0;
            height: 0;
            border-left: 16px solid #fff;
            border-top: 10px solid transparent;
            border-bottom: 10px solid transparent;
        }

        .video-play-overlay .play-text {
            font-size: clamp(12px, 1.4vw, 18px);
            letter-spacing: 0.5px;
            opacity: 0.95;
        }

        .footer-content {
            max-width: 1920px;
            padding: 0 60px;
            width: 100%;
        }

        .footer-main {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 60px;
            margin-bottom: 40px;
        }

        .footer-brand h3 {
            font-family: 'Orbitron', sans-serif;
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        .footer-links {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 40px;
        }

        .footer-column h4 {
            margin-bottom: 1rem;
            font-size: 1.2rem;
        }

        .footer-column ul {
            list-style: none;
            padding: 0;
        }

        .footer-column li {
            margin-bottom: 0.5rem;
        }

        .footer-column a {
            color: #bdc3c7;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer-column a:hover {
            color: #fff;
        }

        .footer-bottom {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 30px;
            border-top: 1px solid #34495e;
        }

        .footer-social {
            display: flex;
            gap: 20px;
        }

        .footer-social a {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #34495e;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #fff;
            text-decoration: none;
            transition: background 0.3s ease;
        }

        .footer-social a:hover {
            background: #3498db;
        }

        .footer-legal-links {
            display: flex;
            gap: 30px;
        }

        .footer-legal-links a {
            color: #bdc3c7;
            text-decoration: none;
            font-size: 0.9rem;
        }

        .footer-legal-links a:hover {
            color: #fff;
        }

        /* Particle System Styles */
        .particle {
            position: absolute;
            border-radius: 50%;
            pointer-events: none;
            animation: float linear infinite;
            opacity: 0.7;
        }

        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.7;
            }
            90% {
                opacity: 0.7;
            }
            100% {
                transform: translateY(-10vh) rotate(360deg);
                opacity: 0;
            }
        }

        /* Mobile Responsiveness */
        @media (max-width: 768px) {
            .section-content {
                padding: 0 20px;
            }
            
            /* Hero Carousel Mobile Styles */
            .hero-overlay-content {
                bottom: 30px;
            }
            
            .launch-announcement {
                padding: 0;
                margin: 0;
            }
            
            .launch-text {
                font-size: calc(100vw * (18 / 1920));
                margin-bottom: calc(100vw * (8 / 1920));
                letter-spacing: calc(100vw * (1 / 1920));
            }
            
            .shop-now-link {
                font-size: calc(100vw * (18 / 1920));
                text-underline-offset: calc(100vw * (4 / 1920));
            }
            

            
            /* Mobile uses same responsive height calculation */
            
            .main-title {
                font-size: 2.5rem;
            }
            
            .section-title {
                font-size: 2rem;
            }
            
            .section-2-title {
                font-size: 4rem;
                letter-spacing: 2px;
            }
            
            .cta-title {
                font-size: 2.5rem;
            }
            
            /* Section 3 mobile adjustments */
            .section-3-text-content {
                top: 40px;
                padding: 0 20px;
            }
            
            .section-3-line1,
            .section-3-line2,
            .section-3-line3,
            .section-3-line4 {
                font-size: 24px;
            }
            
            .section-3-line2 {
                margin-bottom: 24px;
            }

            /* Section 3 products mobile adjustments */
            .section-3-products {
                top: calc(40px + 24px * 4 + 100px);
                left: 20px;
                right: 20px;
                grid-template-columns: 1fr;
                gap: 20px;
                text-align: center;
            }

            .section-3-product-center {
                order: -1;
                padding: 0 20px;
            }

            .product-center-line1 {
                font-size: 12px;
            }

            .product-center-line2 {
                font-size: 32px;
            }

            .product-center-line3 {
                font-size: 8px;
                border-radius: 6px;
                padding: 6px 12px;
                margin-bottom: 12px;
            }

            .product-center-line4 {
                font-size: 16px;
            }

            .transparent-product-image {
                max-width: 250px;
            }

            /* Section 4 mobile styles */
            .section-4-title {
                font-size: 32px;
                margin-bottom: 30px;
            }

            .data-image {
                max-width: 90%;
                margin-bottom: 30px;
            }

            .section-4-description {
                font-size: 16px;
                margin-bottom: 70px;
                padding: 0 20px;
                white-space: normal;
            }

            .section-4-learn-more {
                font-size: calc(100vw * (14 / 1920));
                padding: calc(100vw * (14 / 1920)) calc(100vw * (28 / 1920));
                border-radius: calc(100vw * (14 / 1920));
            }

            /* Section 5 mobile styles */
            .section-5-content {
                top: 50px;
                grid-template-columns: 1fr;
                gap: 30px;
                padding: 0;
                height: calc(100% - 50px);
            }

            .video-container {
                height: 300px;
            }

            .video-container.center-video {
                margin: 0 20px;
            }

            /* Section 6 mobile styles */
            .section-6-content {
                padding: 0 20px;
            }

            .quiz-intro-section {
                grid-template-columns: 1fr;
                gap: 40px;
                text-align: center;
            }

            .quiz-text-content {
                text-align: center;
            }

            .quiz-main-title {
                font-size: 36px;
                margin-bottom: 20px;
            }

            .quiz-description {
                font-size: 16px;
                margin-bottom: 30px;
            }

            .start-quiz-btn {
                font-size: 16px;
                padding: 14px 32px;
                border-radius: 10px;
            }

            .quiz-preview-container {
                grid-template-columns: 1fr 1fr;
                gap: 20px;
            }

            .quiz-preview-item {
                padding: 20px 15px;
                border-radius: 12px;
            }

            .preview-icon {
                font-size: 24px;
                margin-bottom: 12px;
            }

            .quiz-preview-item span {
                font-size: 12px;
            }

            /* Quiz content mobile styles */
            .quiz-content-section {
                padding: 30px 20px;
            }

            .quiz-question-title {
                font-size: 14px;
                margin-bottom: 15px;
            }

            .quiz-progress-bar {
                height: 6px;
                border-radius: 3px;
            }

            .quiz-question-text {
                font-size: 20px;
                margin-bottom: 25px;
                white-space: normal;
                max-width: 100%;
            }

            .quiz-options {
                grid-template-columns: 1fr !important;
                gap: 15px;
                max-width: 100%;
            }

            .quiz-option {
                padding: 15px;
                font-size: 14px;
                border-radius: 8px;
                min-height: 60px;
                width: 100% !important;
            }

            /* Navigation styles removed - auto advance on selection */

            /* Results mobile styles */
            .quiz-results-section {
                padding: 40px 20px;
                padding-top: 90px;
                min-height: 100vh;
            }

            .results-content {
                padding: 25px 20px;
                border-radius: 12px;
            }

            .results-title {
                font-size: 20px;
                margin: 0;
            }

            .results-icon {
                font-size: 28px;
                margin-bottom: 8px;
            }

            .results-profile-section {
                padding: 20px;
                border-radius: 10px;
                margin-bottom: 15px;
            }

            .results-profile-name {
                font-size: 16px;
                margin-bottom: 5px;
            }

            .results-profile-desc {
                font-size: 12px;
            }

            .results-formula-container {
                padding: 15px;
                border-radius: 8px;
            }

            .results-ingredient {
                padding: 6px 0;
                flex-direction: column;
                align-items: flex-start;
                gap: 5px;
            }

            .results-ingredient-name {
                font-size: 12px;
            }

            .results-ingredient-percentage {
                font-size: 11px;
                margin-left: 5px;
            }

            .results-ingredient-effect {
                font-size: 10px;
            }

            .results-ai-balance {
                padding: 10px 0;
                margin-top: 8px;
            }

            .results-ai-balance-text {
                font-size: 12px;
            }

            .results-promise {
                padding: 15px;
                border-radius: 8px;
                margin-bottom: 15px;
            }

            .results-promise-title {
                font-size: 14px;
                margin-bottom: 8px;
            }

            .results-promise-text {
                font-size: 12px;
            }

            .results-buttons {
                flex-direction: column;
                gap: 10px;
            }

            .results-restart-btn, .results-save-btn {
                font-size: 14px;
                padding: 12px 25px;
                border-radius: 20px;
            }

            /* Section 7 mobile styles */
            .section-7-line1,
            .section-7-line2,
            .section-7-line3,
            .section-7-line4 {
                font-size: 28px;
                margin-bottom: 30px;
                white-space: normal;
                text-align: center;
            }

            .section-7-line2 {
                margin-bottom: 8px;
                display: flex;
                justify-content: center;
                align-items: center;
            }

            .section-7-line4 {
                margin-bottom: 0;
            }

            /* Stack grids vertically on mobile */
            .tech-focus,
            .app-showcase {
                grid-template-columns: 1fr;
                gap: 40px;
            }
            
            .lifestyle-grid,
            .experience-grid {
                grid-template-columns: 1fr;
            }
            
            .brand-features,
            .sustainability-stats {
                flex-direction: column;
                gap: 30px;
            }
            
            .app-features {
                grid-template-columns: 1fr;
            }
            
            .cta-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .floating-products {
                flex-wrap: wrap;
            }
            
            .footer-main {
                grid-template-columns: 1fr;
                gap: 40px;
            }
            
            .footer-links {
                grid-template-columns: 1fr;
                gap: 30px;
            }
            
            .footer-bottom {
                flex-direction: column;
                gap: 20px;
                text-align: center;
            }
        }
    </style>
</head>
<body>

    <!-- Scroll Progress Bar -->
    <div class="scroll-progress" id="scroll-progress"></div>

    <!-- Breathing Glow Background -->
    <div class="breathing-glow"></div>
    
    <!-- Particles Container -->
    <div class="particles-container" id="particles-container"></div>

    <!-- SVG Filters for Hero Shader Transition -->
    <svg width="0" height="0" style="position:absolute">
        <filter id="heroLiquid" x="-20%" y="-20%" width="140%" height="140%">
            <feTurbulence id="heroTurb" type="fractalNoise" baseFrequency="0.06" numOctaves="2" seed="7" result="noise"/>
            <feDisplacementMap id="heroDisp" in="SourceGraphic" in2="noise" scale="0" xChannelSelector="R" yChannelSelector="G"/>
        </filter>
    </svg>

    <div class="container">
        <header class="main-header">
            <div class="header-left">
                <a href="index.html" class="header-nav" title="Home"><i class="fas fa-home"></i> <span>Home</span></a>
            </div>
            <a href="index.html" class="logo" title="ÔDÔRAI Home">ÔDÔRAI</a>
            <div class="header-right">
                <a href="#" class="btn-subscribe d-none-mobile" title="">Subscription</a>
                <a href="#" class="d-none-mobile" title="">Contact Us</a>
                <a href="#" title=""><i class="fas fa-user"></i></a>
                <a href="#" class="cart-icon-wrapper" title="">
                    <i class="fas fa-shopping-bag"></i>
                    <span class="cart-badge" id="cart-badge">0</span>
                </a>
            </div>
        </header>

        <!-- Mobile Search Bar removed -->

        <!-- Section 1: Hero - 1098px -->
        <section class="section-1" id="section-1">
            <div class="hero-carousel-container">
                <div class="hero-carousel" id="hero-carousel">
                    <img src="images/header1.png" alt="ÔDÔRAI Header 1" class="hero-carousel-image active" data-index="0">
                    <img src="images/header2.png" alt="ÔDÔRAI Header 2" class="hero-carousel-image" data-index="1">
                    <img src="images/header3.png" alt="ÔDÔRAI Header 3" class="hero-carousel-image" data-index="2">
                    <img src="images/header4.png" alt="ÔDÔRAI Header 4" class="hero-carousel-image" data-index="3">
                    <img src="images/header5.png" alt="ÔDÔRAI Header 5" class="hero-carousel-image" data-index="4">
                    <img src="images/header6.png" alt="ÔDÔRAI Header 6" class="hero-carousel-image" data-index="5">
                    <img src="images/header7.png" alt="ÔDÔRAI Header 7" class="hero-carousel-image" data-index="6">
                    <img src="images/header8.png" alt="ÔDÔRAI Header 8" class="hero-carousel-image" data-index="7">
            </div>
                <div class="hero-overlay-content">
                    <div class="launch-announcement">
                        <p class="launch-text">NEW LAUNCH : SS26 COLLECTION</p>
                        <a href="products.html" class="shop-now-link">Shop now</a>
        </div>
                </div>
                <div class="carousel-click-area" id="carousel-click-area"></div>

                </div>
        </section>

        <!-- Section 2: Brand Introduction - 1080px -->
        <section class="section-2" id="section-2">
            <div class="section-2-content">
                <h2 class="section-2-title">ÔDÔRAI</h2>
                </div>
        </section>

        <!-- Section 3: Product Showcase - 1623px -->
        <section class="section-3" id="section-3">
            <div class="section-3-text-content">
                <div class="section-3-description">
                    <p class="section-3-line1">ÔDÔRAI is AI-driven system that modulates</p>
                    <p class="section-3-line2"><span class="spatial-scents">spatial scents</span> by predicting user behavior.</p>
                    <p class="section-3-line3">It adapts in real-time to shape your mood,</p>
                    <p class="section-3-line4">sharpen your focus, and spark your creativity.</p>
                </div>
                </div>
            
            <div class="section-3-products">
                <div class="section-3-product-left">
                    <div class="model-slot" id="ruc-slot" data-model="images/RUC.glb">
                        <img id="ruc-image" src="images/TRANSPARENTRUC.png" alt="ÔDÔRAI RÜC Transparent" class="transparent-product-image clickable">
                    </div>
                </div>

                <div class="section-3-product-center">
                    <p class="product-center-line1">ÔDÔRAI DIFFUSER</p>
                    <p class="product-center-line2">ÔFFUSER</p>
                    <p class="product-center-line3">+ Take a closer look</p>
                    <a href="products.html" class="product-center-line4">explore now ></a>
            </div>

                <div class="section-3-product-right">
                    <div class="model-slot" id="bub-slot" data-model="images/BUB.glb">
                        <img id="bub-image" src="images/TRANSPARENTBUB.png" alt="ÔDÔRAI BÜB Transparent" class="transparent-product-image clickable">
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 6: Custom Scent Profile Quiz - 1150px -->
        <section class="section-6" id="section-6">
            <div class="section-6-content">
                <!-- Quiz Introduction (Initial View) -->
                <div class="quiz-intro-section" id="quiz-intro" style="display: none;">
                    <div class="quiz-text-content">
                        <h2 class="quiz-main-title">Custom Scent Profile</h2>
                        <p class="quiz-description">Create your personalized aromatherapy experience with our AI-driven scent analysis</p>
                        <button class="start-quiz-btn" id="start-quiz-button">Start Your Profile Quiz</button>
        </div>
                    <div class="quiz-visual-content">
                        <div class="quiz-preview-container">
                            <div class="quiz-preview-item">
                                <div class="preview-icon">🧠</div>
                                <span>Lifestyle Analysis</span>
            </div>
                            <div class="quiz-preview-item">
                                <div class="preview-icon">🌿</div>
                                <span>Scent Preferences</span>
            </div>
                            <div class="quiz-preview-item">
                                <div class="preview-icon">⚗️</div>
                                <span>Custom Formula</span>
            </div>
                            <div class="quiz-preview-item">
                                <div class="preview-icon">🎯</div>
                                <span>Personalized Results</span>
        </div>
    </div>
                    </div>
                </div>

                <!-- Quiz Content (Hidden Initially) -->
                <div class="quiz-content-section" id="quiz-content" style="display: block;">
                    <div class="quiz-header">
                        <h3 class="quiz-question-title" id="quiz-question-title">Question 1 of 7</h3>
                        <div class="quiz-progress-bar">
                            <div class="quiz-progress-fill" id="quiz-progress-fill"></div>
                </div>
                        </div>
                    
                    <div class="quiz-question-content">
                        <h2 class="quiz-question-text" id="quiz-question-text">Loading question...</h2>
                        <div class="quiz-options" id="quiz-options">
                            <!-- Options will be dynamically generated -->
                        </div>
                    </div>

                    <!-- Navigation removed - auto advance on selection -->
                        </div>

                <!-- Quiz Results (Hidden Initially) -->
                <div class="quiz-results-section" id="quiz-results" style="display: none;">
                    <div class="results-content">
                        <div class="results-header">
                            <div class="results-icon">🌟</div>
                            <h2 class="results-title">Your ÔDÔRAI Custom Scent Profile</h2>
                        </div>
                        
                        <div class="results-profile-section">
                            <div class="results-profile-title">
                                <h3 class="results-profile-name" id="results-profile-name">Profile Name</h3>
                                <p class="results-profile-desc" id="results-profile-desc">Profile Description</p>
                    </div>

                            <div class="results-formula-container" id="results-formula">
                                <!-- Formula will be dynamically generated -->
                        </div>
                            
                            <div class="results-ai-balance">
                                <div>
                                    <span class="results-ai-balance-text">AI Intelligent Balance Factor</span>
                                    <span class="results-ingredient-percentage" id="ai-balance-percentage">15.3%</span>
                        </div>
                    </div>
                        </div>

                        <div class="results-promise">
                            <h4 class="results-promise-title">Monthly Optimization Promise</h4>
                            <p class="results-promise-text">✨ ÔDÔRAI will continuously learn and improve your exclusive formula</p>
                    </div>
                        
                        <div class="results-buttons">
                            <button class="results-restart-btn" id="results-restart-btn">Create Another Profile</button>
                            <button class="results-save-btn" id="results-save-btn">Save My Profile</button>
                        </div>
                    </div>
                </div>
                </div>
        </section>

        <!-- removed modal: inline viewers are used in slots -->

        <!-- Section 4: Data Analysis - 1080px -->
        <section class="section-4" id="section-4">
            <video class="section-4-video" autoplay muted loop playsinline>
                <source src="images/section4.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
            <div class="section-4-content">
                <h2 class="section-4-title">Data Record & Analysis</h2>
                <img src="images/data.png" alt="Data Analysis" class="data-image">
                <div class="section-4-text">
                    <p class="section-4-description">ÔFFUSER continuously analyzes your physiological and environmental data to create the perfect scent experience</p>
                    <p class="section-4-learn-more" id="learn-more-trigger">+ Learn more about mechanism</p>
        </div>
                </div>
        </section>

        <!-- How It Works Modal -->
        <div class="video-modal" id="howitworks-modal" aria-hidden="true">
            <div class="video-modal-content">
                <button class="video-close" id="howitworks-close" aria-label="Close">✕</button>
                <div class="video-play-overlay" id="howitworks-play-overlay">
                    <div class="play-circle"></div>
                    <div class="play-text">CLICK TO PLAY</div>
                </div>
                <video id="howitworks-video" preload="metadata">
                    <source src="images/howitworks.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
            </div>
                </div>

        <!-- Section 5: Advertisement Videos - 1150px -->
        <section class="section-5" id="section-5">
            <div class="section-5-content">
                <div class="video-container left-video">
                    <div class="audio-bars"></div>
                    <video class="advertise-video" muted loop playsinline>
                        <source src="images/Advertise_02.mp4" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                </div>
                <div class="video-container center-video">
                    <div class="audio-bars"></div>
                    <video class="advertise-video" muted loop playsinline>
                        <source src="images/Advertise_01.mp4" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
            </div>
                <div class="video-container right-video">
                    <div class="audio-bars"></div>
                    <video class="advertise-video" muted loop playsinline>
                        <source src="images/Advertise_03.mp4" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                </div>
                </div>
        </section>
        

        <!-- Section 7 -->
        <section class="section-7" id="section-7">
            <div class="section-7-content">
                <div class="section-7-text">
                    <p class="section-7-line1">ÔDÔRAI doesn't guess what scent to use.</p>
                    <p class="section-7-line2">It matches your current state with a scent that supports you—</p>
                    <p class="section-7-line3">using science-backed personalization.</p>
                    <p class="section-7-line4">Long-term impact meets daily precision.</p>
            </div>
        </div>
        </section>

        <!-- Section 8: Logic Video - 1080px -->
        <section class="section-8" id="section-8">
            <video class="section-8-video" muted loop playsinline>
                <source src="images/logic.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
            <div class="section-8-overlay">
                <h2 class="section-8-title">How AI Personalizes Your Experience</h2>
    </div>
        </section>

        <!-- Section 9: Background Image Only - 1156px -->
        <section class="section-9" id="section-9">
            <div class="navigation-buttons">
                <button class="nav-btn nav-left" onclick="navigateLeft()">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
                <button class="nav-btn nav-right" onclick="navigateRight()">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M9 18L15 12L9 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
            </button>
        </div>
        </section>

        <!-- Section 10: Footer -->
        <footer class="section-10" id="section-10">
            <div class="footer-content">
                <div class="footer-main">
                    <div class="footer-brand">
                        <h3>ÔDÔRAI</h3>
                        <p>AI Driven Personal Aromatherapist</p>
                </div>
                    <div class="footer-links">
                        <div class="footer-column">
                            <h4>Products</h4>
                            <ul>
                                <li><a href="products.html">All Diffusers</a></li>
                                <li><a href="#">Essential Oils</a></li>
                                <li><a href="#">Accessories</a></li>
                                <li><a href="#">Gift Sets</a></li>
                            </ul>
                </div>
                        <div class="footer-column">
                            <h4>Support</h4>
                            <ul>
                                <li><a href="#">Contact Us</a></li>
                                <li><a href="#">Help Center</a></li>
                                <li><a href="#">Shipping Info</a></li>
                                <li><a href="#">Returns</a></li>
                            </ul>
            </div>
                        <div class="footer-column">
                            <h4>Company</h4>
                            <ul>
                                <li><a href="#">About Us</a></li>
                                <li><a href="#">Careers</a></li>
                                <li><a href="#">Press</a></li>
                                <li><a href="#">Sustainability</a></li>
                            </ul>
                </div>
                </div>
            </div>
                <div class="footer-bottom">
                    <div class="footer-social">
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-facebook"></i></a>
                        <a href="#"><i class="fab fa-linkedin"></i></a>
                </div>
                    <div class="footer-legal">
                        <p>&copy; 2024 ÔDÔRAI. All rights reserved.</p>
                        <div class="footer-legal-links">
                            <a href="#">Privacy Policy</a>
                            <a href="#">Terms of Service</a>
                            <a href="#">Cookie Policy</a>
                </div>
            </div>
        </div>
        </div>
        </footer>
    </div>



    <script src="navigation.js"></script>
    <!-- model-viewer web component -->
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
    <script>
        // Section 9 inline navigation functions (global scope)
        window.section9CurrentImageIndex = 0;
        window.section9Images = [
            'images/section9.png',
            'images/section9-1.png',
            'images/section9-2.png'
        ];

        // Update background and dynamically match section height to image aspect ratio
        window.updateSection9Background = function(imageIndex) {
            const section9 = document.getElementById('section-9');
            if (!section9) return;

            const src = window.section9Images[imageIndex];
            section9.style.backgroundImage = `url('${src}')`;

            const img = new Image();
            img.onload = function() {
                const ratio = this.naturalHeight / this.naturalWidth; // H/W
                window.section9CurrentRatio = ratio;
                const containerWidth = section9.clientWidth || document.documentElement.clientWidth || window.innerWidth;
                section9.style.height = Math.round(containerWidth * ratio) + 'px';
            };
            img.src = src;
        };

        // Recalculate height on resize to keep proportional with current image
        window.addEventListener('resize', function() {
            const section9 = document.getElementById('section-9');
            if (!section9 || !window.section9CurrentRatio) return;
            const containerWidth = section9.clientWidth || document.documentElement.clientWidth || window.innerWidth;
            section9.style.height = Math.round(containerWidth * window.section9CurrentRatio) + 'px';
        });

        window.navigateRight = function() {
            window.section9CurrentImageIndex = (window.section9CurrentImageIndex + 1) % window.section9Images.length;
            window.updateSection9Background(window.section9CurrentImageIndex);
        };

        window.navigateLeft = function() {
            window.section9CurrentImageIndex = (window.section9CurrentImageIndex - 1 + window.section9Images.length) % window.section9Images.length;
            window.updateSection9Background(window.section9CurrentImageIndex);
        };

        // Ensure initial background set after DOM is ready
        document.addEventListener('DOMContentLoaded', function() {
            window.updateSection9Background(0);
        });
    </script>
    <script>
        // Simplified script for homepage
        document.addEventListener('DOMContentLoaded', function() {
            
            // --- Mobile Detection (First Priority) ---
            function isMobileDevice() {
                return window.innerWidth <= 768 || /Android|iPhone|iPad|iPod|Mobile/i.test(navigator.userAgent);
            }
            
            // 手機端立即移除動畫元素
            if (isMobileDevice()) {
                const particlesContainer = document.querySelector('.particles-container');
                if (particlesContainer) particlesContainer.remove();
                
                const breathingGlow = document.querySelector('.breathing-glow');
                if (breathingGlow) breathingGlow.remove();
                
                console.log('📱 Mobile device detected - animations disabled');
            }

            // --- Header Functionality (Search removed) ---

            // --- Scroll Progress ---
            function updateScrollProgress() {
                const scrollProgress = document.getElementById('scroll-progress');
                if (scrollProgress) {
                    const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
                    const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
                    const scrolled = (winScroll / height) * 100;
                    scrollProgress.style.width = scrolled + '%';
                }
            }

            window.addEventListener('scroll', updateScrollProgress);

            // --- Particle System (Desktop Only) ---
            if (!isMobileDevice()) {
                const particlesContainer = document.getElementById('particles-container');
                
                if (particlesContainer) {
                    function createParticle() {
                        const particle = document.createElement('div');
                        particle.className = 'particle';
                        
                        const size = Math.random() * 4 + 2;
                        particle.style.width = size + 'px';
                        particle.style.height = size + 'px';
                        particle.style.left = Math.random() * 100 + '%';
                        particle.style.background = `rgba(${Math.random() * 100 + 100}, ${Math.random() * 100 + 100}, ${Math.random() * 100 + 150}, 0.6)`;
                        particle.style.animationDuration = (Math.random() * 20 + 10) + 's';
                        particle.style.animationDelay = Math.random() * 5 + 's';
                        
                        particlesContainer.appendChild(particle);
                        
                        setTimeout(() => {
                            if (particle.parentNode) {
                                particle.parentNode.removeChild(particle);
                            }
                        }, 25000);
                    }
                    
                    function startParticleSystem() {
                        createParticle();
                        setTimeout(startParticleSystem, Math.random() * 3000 + 1000);
                    }
                    
                    startParticleSystem();
                }
            }

            // --- Mouse Effects (Desktop Only) ---
            if (!isMobileDevice()) {
                function createAdvancedMouseFollower() {
                    const primaryFollower = document.createElement('div');
                    const secondaryFollower = document.createElement('div');

                    primaryFollower.className = 'mouse-follower-primary';
                    secondaryFollower.className = 'mouse-follower-secondary';

                    primaryFollower.style.cssText = `
                        position: fixed;
                        width: 8px;
                        height: 8px;
                        background: #4a90e2;
                        border-radius: 50%;
                        pointer-events: none;
                        z-index: 9999;
                        transition: transform 0.1s ease;
                        mix-blend-mode: difference;
                    `;
                    secondaryFollower.style.cssText = `
                        position: fixed;
                        width: 30px;
                        height: 30px;
                        border: 2px solid rgba(74, 144, 226, 0.3);
                        border-radius: 50%;
                        pointer-events: none;
                        z-index: 9998;
                        transition: all 0.3s ease;
                        background: transparent;
                    `;

                    document.body.appendChild(primaryFollower);
                    document.body.appendChild(secondaryFollower);

                    let mouseX = 0, mouseY = 0;
                    let secondaryX = 0, secondaryY = 0;

                    document.addEventListener('mousemove', (e) => {
                        mouseX = e.clientX;
                        mouseY = e.clientY;
                        primaryFollower.style.left = `${mouseX - 4}px`;
                        primaryFollower.style.top = `${mouseY - 4}px`;
                    });

                    function updateSecondaryFollower() {
                        secondaryX += (mouseX - secondaryX) * 0.1;
                        secondaryY += (mouseY - secondaryY) * 0.1;
                        secondaryFollower.style.left = `${secondaryX - 15}px`;
                        secondaryFollower.style.top = `${secondaryY - 15}px`;
                        requestAnimationFrame(updateSecondaryFollower);
                    }
                    updateSecondaryFollower();

                    const interactiveSelectors = 'button, .btn, .color-swatch, .info-header, a, .cart-icon-wrapper, .section-header, .contact-advisor, .header-nav';
                    const interactiveElements = document.querySelectorAll(interactiveSelectors);
                    interactiveElements.forEach(element => {
                        element.addEventListener('mouseenter', () => {
                            primaryFollower.style.transform = 'scale(2)';
                            primaryFollower.style.background = '#ff6b6b';
                            secondaryFollower.style.transform = 'scale(1.5)';
                            secondaryFollower.style.borderColor = 'rgba(255, 107, 107, 0.8)';
                        });
                        element.addEventListener('mouseleave', () => {
                            primaryFollower.style.transform = 'scale(1)';
                            primaryFollower.style.background = '#4a90e2';
                            secondaryFollower.style.transform = 'scale(1)';
                            secondaryFollower.style.borderColor = 'rgba(74, 144, 226, 0.3)';
                        });
                    });
                }

                function createInteractionParticle(x, y) {
                    const particle = document.createElement('div');
                    particle.className = 'interaction-particle';
                    particle.style.cssText = `
                        position: fixed;
                        left: ${x - 3}px;
                        top: ${y - 3}px;
                        width: 6px; height: 6px;
                        background: rgba(255, 107, 107, 0.8);
                        border-radius: 50%;
                        pointer-events: none;
                        z-index: 9998;
                        transform: scale(1);
                        opacity: 1;
                        transition: transform 0.8s ease, opacity 0.8s ease;
                    `;
                    document.body.appendChild(particle);
                    requestAnimationFrame(() => {
                        particle.style.transform = 'scale(2)';
                        particle.style.opacity = '0';
                    });
                    setTimeout(() => particle.remove(), 800);
                }

                function createClickRipple(x, y) {
                    const ripple = document.createElement('div');
                    ripple.className = 'click-ripple';
                    ripple.style.cssText = `
                        position: fixed;
                        left: ${x - 100}px;
                        top: ${y - 100}px;
                        width: 200px; height: 200px;
                        border-radius: 50%;
                        background: radial-gradient(circle, rgba(74, 144, 226, 0.25), rgba(74, 144, 226, 0));
                        pointer-events: none;
                        z-index: 9997;
                        transform: scale(0.6);
                        opacity: 0.9;
                        transition: transform 0.6s ease, opacity 0.6s ease;
                    `;
                    document.body.appendChild(ripple);
                    requestAnimationFrame(() => {
                        ripple.style.transform = 'scale(1.4)';
                        ripple.style.opacity = '0';
                    });
                    setTimeout(() => ripple.remove(), 600);
                }

                function enhanceMouseInteractions() {
                    let lastParticleTime = 0;
                    document.addEventListener('mousemove', (e) => {
                        const now = Date.now();
                        if (now - lastParticleTime > 100 && Math.random() < 0.3) {
                            createInteractionParticle(e.clientX, e.clientY);
                            lastParticleTime = now;
                        }
                    });
                    document.addEventListener('click', (e) => {
                        createClickRipple(e.clientX, e.clientY);
                        for (let i = 0; i < 5; i++) {
                            setTimeout(() => {
                                const offsetX = (Math.random() - 0.5) * 40;
                                const offsetY = (Math.random() - 0.5) * 40;
                                createInteractionParticle(e.clientX + offsetX, e.clientY + offsetY);
                            }, i * 50);
                        }
                    });
                }

                // Initialize mouse effects
                createAdvancedMouseFollower();
                enhanceMouseInteractions();
            }

            // --- Smooth scrolling for anchor links ---
            const heroButtons = document.querySelectorAll('a[href^="#"], .hero-cta');
            heroButtons.forEach(button => {
                button.addEventListener('click', function(e) {
                    const href = this.getAttribute('href');
                    if (href && href.startsWith('#')) {
                        e.preventDefault();
                        const target = document.querySelector(href);
                        if (target) {
                            target.scrollIntoView({ behavior: 'smooth' });
                        }
                    }
                });
            });

            // --- Hero Carousel Functionality ---
            let currentImageIndex = 0;
            const totalImages = 8; // header1.png to header8.png
            const carouselImages = document.querySelectorAll('.hero-carousel-image');
            const carouselClickArea = document.getElementById('carousel-click-area');
            const section1 = document.getElementById('section-1');

            function updateHeroHeightByImage(imgEl) {
                if (!section1 || !imgEl) return;
                const img = new Image();
                img.onload = function() {
                    const ratio = this.naturalHeight / this.naturalWidth; // H/W
                    const viewportWidth = section1.clientWidth || document.documentElement.clientWidth || window.innerWidth;
                    section1.style.height = Math.round(viewportWidth * ratio) + 'px';
                };
                img.src = imgEl.src;
            }

            function showImage(index) {
                // Hide all images
                carouselImages.forEach(img => img.classList.remove('active'));
                
                // Animate hero shader displacement
                try {
                    const turb = document.getElementById('heroTurb');
                    const disp = document.getElementById('heroDisp');
                    if (turb && disp) {
                        let frame = 0;
                        const frames = 20;
                        const startScale = 0;
                        const endScale = 40; // strength of distortion
                        const startFreq = 0.02;
                        const endFreq = 0.12;
                        const animate = () => {
                            const t = frame/frames;
                            const s = startScale + (endScale - startScale) * Math.sin(Math.PI * t);
                            const f = startFreq + (endFreq - startFreq) * Math.sin(Math.PI * t);
                            disp.setAttribute('scale', s.toFixed(2));
                            turb.setAttribute('baseFrequency', f.toFixed(3));
                            frame++;
                            if (frame <= frames) requestAnimationFrame(animate);
                            else disp.setAttribute('scale', '0');
                        };
                        requestAnimationFrame(animate);
                    }
                } catch(e) { console.warn('Hero shader animation skipped', e); }

                // Show current image and update section height to match image ratio
                const activeImg = carouselImages[index];
                activeImg.classList.add('active');
                updateHeroHeightByImage(activeImg);
                
                currentImageIndex = index;
            }

            function nextImage() {
                const nextIndex = (currentImageIndex + 1) % totalImages;
                showImage(nextIndex);
            }

            // Click on carousel area to go to next image
            if (carouselClickArea) {
                carouselClickArea.addEventListener('click', function(e) {
                    e.preventDefault();
                    nextImage();
                    console.log(`🖼️ Switched to image ${currentImageIndex + 1}`);
                });
            }



            // Auto-advance carousel every 5 seconds (optional)
            let autoAdvanceInterval = setInterval(nextImage, 5000);
            // Initialize height on first active image and on resize
            const initialActive = document.querySelector('.hero-carousel-image.active') || carouselImages[0];
            if (initialActive) updateHeroHeightByImage(initialActive);
            window.addEventListener('resize', () => {
                const current = document.querySelector('.hero-carousel-image.active') || carouselImages[currentImageIndex];
                if (current) updateHeroHeightByImage(current);
            });

            // Pause auto-advance when user interacts
            const heroSection = document.getElementById('section-1');
            if (heroSection) {
                heroSection.addEventListener('mouseenter', () => {
                    clearInterval(autoAdvanceInterval);
                });
                
                heroSection.addEventListener('mouseleave', () => {
                    autoAdvanceInterval = setInterval(nextImage, 5000);
                });
            }

            // Track Shop Now clicks with dynamic product navigation
            const shopNowLink = document.querySelector('.shop-now-link');
            if (shopNowLink) {
                shopNowLink.addEventListener('click', function(e) {
                    e.preventDefault(); // Prevent default link behavior
                    
                    // Always navigate to RÜC regardless of current image
                    try {
                        sessionStorage.removeItem('selectedProduct');
                        sessionStorage.setItem('selectedProduct', JSON.stringify({
                            index: 0,
                            product: {
                                name: 'ÔFFUSER RÜC',
                                material: 'Rock',
                                price: '$ 599.00',
                                sku: 'PMAL721',
                                colorGroup: 'origin'
                            }
                        }));
                        console.log('🛒 Shop Now clicked - forcing navigation to ÔFFUSER RÜC');
                    } catch (_) {}
                    
                    // Navigate to products page
                    window.location.href = 'products.html';
                });
            }

            // --- Section 3 Explore Now Link ---
            const exploreNowLink = document.querySelector('.product-center-line4');
            if (exploreNowLink) {
                exploreNowLink.addEventListener('click', function(e) {
                    console.log('🔍 Explore Now clicked - navigating to products page');
                });
            }

            // Section 4 scrub disabled per request

            // --- Section 5 & 8: Scroll-triggered Video Playback ---
            const advertiseVideos = document.querySelectorAll('.advertise-video');
            const section8Video = document.querySelector('.section-8-video');

            // --- Section 3: Inline model viewers in place ---
            (function setupSection3InlineModels(){
                const rucImg = document.getElementById('ruc-image');
                const bubImg = document.getElementById('bub-image');
                const rucSlot = document.getElementById('ruc-slot');
                const bubSlot = document.getElementById('bub-slot');
                if (!rucSlot || !bubSlot) return;

                function swapToModel(imgEl, slotEl){
                    const src = slotEl.dataset.model;
                    if (!src) return;
                    // Remove image and inject model-viewer
                    if (imgEl && imgEl.parentNode === slotEl) {
                        slotEl.removeChild(imgEl);
                    }
                    // Prevent duplicate insertion
                    if (slotEl.querySelector('model-viewer')) return;
                    const mv = document.createElement('model-viewer');
                    mv.setAttribute('src', src);
                    mv.setAttribute('alt', '3D Model');
                    mv.setAttribute('camera-controls', '');
                    mv.setAttribute('auto-rotate', '');
                    mv.setAttribute('exposure', '1');
                    mv.setAttribute('environment-image', 'neutral');
                    mv.setAttribute('shadow-intensity', '0.2');
                    mv.style.width = '100%';
                    mv.style.height = '100%';
                    mv.style.background = '#fff';
                    slotEl.appendChild(mv);
                }

                if (rucImg) rucImg.addEventListener('click', () => swapToModel(rucImg, rucSlot));
                if (bubImg) bubImg.addEventListener('click', () => swapToModel(bubImg, bubSlot));
            })();

            // --- How It Works Modal (Section 4) ---
            (function setupHowItWorksModal(){
                const trigger = document.getElementById('learn-more-trigger');
                const modal = document.getElementById('howitworks-modal');
                const video = document.getElementById('howitworks-video');
                const closeBtn = document.getElementById('howitworks-close');
                const overlay = document.getElementById('howitworks-play-overlay');
                if (!trigger || !modal || !video || !closeBtn || !overlay) return;

                function openModal(){
                    modal.classList.add('show');
                    modal.setAttribute('aria-hidden', 'false');
                    // Pause initially; wait for user click to play with sound
                    try { video.pause(); video.currentTime = 0; } catch(_) {}
                }

                function closeModal(){
                    modal.classList.remove('show');
                    modal.setAttribute('aria-hidden', 'true');
                    try { video.pause(); } catch(_) {}
                }

                trigger.addEventListener('click', function(e){
                    e.preventDefault();
                    openModal();
                });

                closeBtn.addEventListener('click', function(){
                    closeModal();
                });

                modal.addEventListener('click', function(e){
                    if (e.target === modal) closeModal();
                });

                // Play on overlay click with sound
                overlay.addEventListener('click', function(){
                    overlay.style.display = 'none';
                    video.muted = false; // with sound
                    video.controls = true;
                    video.play().catch(()=>{
                        // If autoplay with sound is blocked, keep overlay visible
                        overlay.style.display = '';
                    });
                });
            })();
            
            function checkVideoVisibility() {
                // Check Section 5 advertise videos
                advertiseVideos.forEach(video => {
                    const rect = video.getBoundingClientRect();
                    const videoTop = rect.top;
                    const videoBottom = rect.bottom;
                    const windowHeight = window.innerHeight;
                    
                    // Check if video is in viewport (at least 50% visible)
                    const isVisible = videoTop < windowHeight * 0.5 && videoBottom > windowHeight * 0.5;
                    
                    if (isVisible && video.paused) {
                        video.play().catch(e => console.log('Video play failed:', e));
                        console.log('🎬 Advertisement video started playing');
                    }

                    // Audio-reactive bars animation disabled
                    // const bars = video.parentElement.querySelectorAll('.audio-bar');
                    // if (bars.length) {
                    //     // Use time and per-bar phase to fake audio-reactive movement
                    //     const base = (video.currentTime || 0);
                    //     bars.forEach((bar, i) => {
                    //         const amp = 0.5 + 0.5 * Math.sin(base * (1.6 + i*0.35) + i);
                    //         bar.style.transform = `scaleY(${0.3 + amp * 0.9})`;
                    //     });
                    // }
                });
                
                // Check Section 8 logic video
                if (section8Video) {
                    const rect = section8Video.getBoundingClientRect();
                    const videoTop = rect.top;
                    const videoBottom = rect.bottom;
                    const windowHeight = window.innerHeight;
                    
                    // Check if video is in viewport (at least 50% visible)
                    const isVisible = videoTop < windowHeight * 0.5 && videoBottom > windowHeight * 0.5;
                    
                    if (isVisible && section8Video.paused) {
                        section8Video.play().catch(e => console.log('Section 8 video play failed:', e));
                        console.log('🎬 Section 8 logic video started playing');
                    }
                }
            }
            
            // Initial check when page loads
            setTimeout(checkVideoVisibility, 500);
            
            // Check on scroll
            window.addEventListener('scroll', checkVideoVisibility);
            
            // Check on resize
            window.addEventListener('resize', checkVideoVisibility);

            // Video animation effects disabled
            // (function setupVideoOverlays(){
            //     document.querySelectorAll('.video-container').forEach(container => {
            //         const barHost = container.querySelector('.audio-bars');
            //         if (barHost && !barHost.children.length) {
            //             for (let i=0;i<24;i++) {
            //                 const b = document.createElement('div');
            //                 b.className = 'audio-bar';
            //                 barHost.appendChild(b);
            //             }
            //         }
            //         // Add hover scan sweep reset
            //         container.addEventListener('mouseenter', ()=>{
            //             const after = getComputedStyle(container, '::after');
            //             // trigger reflow to restart transition
            //             container.classList.remove('hovering');
            //             void container.offsetWidth;
            //             container.classList.add('hovering');
            //             setTimeout(()=> container.classList.remove('hovering'), 900);
            //         });
            //     });
            // })();

            // --- Section 2: Background Image Cycling and Navigation ---
            (function setupSection2Cycling(){
                const section2 = document.getElementById('section-2');
                const titleElement = document.querySelector('.section-2-title');
                if (!section2 || !titleElement) return;
                
                let currentBgIndex = 0; // 0: section2.png, 1: section3.png, 2: section1.png
                const backgrounds = [
                    'images/section2.png',
                    'images/section3.png', 
                    'images/section1.png'
                ];
                const intrinsicRatios = {}; // cache image ratios by src

                function setSection2HeightFor(src) {
                    const apply = (ratio) => {
                        const viewportWidth = section2.clientWidth || document.documentElement.clientWidth || window.innerWidth;
                        section2.style.height = Math.round(viewportWidth * ratio) + 'px';
                    };
                    if (intrinsicRatios[src]) {
                        apply(intrinsicRatios[src]);
                        return;
                    }
                    const img = new Image();
                    img.onload = function(){
                        const ratio = this.naturalHeight / this.naturalWidth;
                        intrinsicRatios[src] = ratio;
                        apply(ratio);
                    };
                    img.src = src;
                }

                // Initialize height for initial background
                setSection2HeightFor(backgrounds[currentBgIndex]);
                window.addEventListener('resize', () => setSection2HeightFor(backgrounds[currentBgIndex]));
                
                // Click on title to navigate to products page
                titleElement.addEventListener('click', function(e) {
                    e.stopPropagation(); // Prevent section2 click from firing
                    console.log('🔗 ÔDÔRAI title clicked - navigating to products page');
                    window.location.href = 'products.html';
                });
                
                // Click on section background to cycle images
                section2.addEventListener('click', function(e) {
                    // Only cycle if not clicking on the title
                    if (e.target !== titleElement) {
                        currentBgIndex = (currentBgIndex + 1) % backgrounds.length;
                        section2.style.backgroundImage = `url('${backgrounds[currentBgIndex]}')`;
                        setSection2HeightFor(backgrounds[currentBgIndex]);
                        console.log(`🖼️ Section 2 background switched to: ${backgrounds[currentBgIndex]}`);
                    }
                });
            })();

            // --- Section 7: Dynamic split text and mouse ripple ---
            (function setupSection7Text(){
                const lines = [
                    document.querySelector('.section-7-line1'),
                    document.querySelector('.section-7-line2'),
                    document.querySelector('.section-7-line3'),
                    document.querySelector('.section-7-line4')
                ].filter(Boolean);
                if (!lines.length) return;
                lines.forEach(line => {
                    if (!line.classList.contains('split-line')) {
                        const text = line.textContent.trim();
                        line.classList.add('split-line');
                        const words = text.split(' ').filter(Boolean);
                        line.innerHTML = words.map((w,i)=>`<span style="transition-delay:${i*40}ms">${w}&nbsp;</span>`).join('');
                    }
                });
                const io = new IntersectionObserver((entries)=>{
                    entries.forEach(entry=>{
                        if (entry.isIntersecting) {
                            entry.target.classList.add('revealed');
                            io.unobserve(entry.target);
                        }
                    })
                },{ threshold: 0.2 });
                lines.forEach(l => io.observe(l));

                // mouse ripple on hover (desktop only)
                if (!isMobileDevice()) {
                    const container = document.querySelector('#section-7');
                    if (container) {
                        container.addEventListener('mousemove', (e)=>{
                            if (Math.random() > 0.2) return;
                            const r = document.createElement('div');
                            r.style.cssText = `position: fixed; left:${e.clientX-60}px; top:${e.clientY-60}px; width:120px; height:120px; border-radius:50%; pointer-events:none; background: radial-gradient(circle, rgba(255,136,0,0.18), rgba(255,136,0,0)); z-index:2; transform: scale(0.6); opacity:0.9; transition: transform .6s ease, opacity .6s ease;`;
                            document.body.appendChild(r);
                            requestAnimationFrame(()=>{ r.style.transform='scale(1.4)'; r.style.opacity='0'; });
                            setTimeout(()=> r.remove(), 600);
                        });
                    }
                }
            })();

            // --- Section 6: Inline Quiz System ---
            let currentQuestion = 0;
            let quizAnswers = {};
            
            const quizQuestions = [
                {
                    question: "⏰🏠 When and where do you usually use aromatherapy diffusers?",
                    options: [
                        "🏠 After work at home relaxation",
                        "🛏️ Bedtime in bedroom for sleep aid",
                        "💼 Work time in office/study room",
                        "🏡 Throughout the entire home"
                    ]
                },
                {
                    question: "🎯 What effect do you most want to achieve through aromatherapy?",
                    options: [
                        "💆 Relaxation / Stress relief",
                        "🧠 Enhance focus",
                        "😴 Help with sleep",
                        "🌿 Air purification"
                    ]
                },
                {
                    question: "🌸 Which scent profile appeals to you most?",
                    options: [
                        "🌿 Fresh & Natural (mint, eucalyptus, tea tree, lemon)",
                        "🌸 Floral & Elegant (lavender, rose, jasmine, orange blossom)",
                        "🌲 Woody & Grounding (sandalwood, cedar, amber, patchouli)",
                        "🍊 Citrus & Vibrant (sweet orange, bergamot, grapefruit, orange)"
                    ]
                },
                {
                    question: "🎨 Which lifestyle best describes you?",
                    options: [
                        "🌱 Natural wellness advocate",
                        "💻 Remote work from home",
                        "🎯 Efficiency expert",
                        "🎨 Aesthetic lifestyle enthusiast",
                        "🧘 Mind‑body‑spirit explorer"
                    ]
                },
                {
                    question: "💨 What intensity of aromatherapy do you prefer?",
                    options: [
                        "🪶 Light & Subtle",
                        "🌼 Medium & Moderate", 
                        "🌹 Rich & Intense",
                        "🎛️ Adjustable"
                    ]
                },
                {
                    question: "🎵 What type of music/playlist do you usually play?",
                    options: [
                        "🎧 Lo‑fi Chill / Relaxing vibes",
                        "🚀 Upbeat Pop / Energizing tunes",
                        "🎹 Instrumental Focus / Study music",
                        "🌌 Ambient Meditation / Mindful sounds",
                        "🎻 Classical / Orchestral music",
                        "🎷 Jazz & Soul / Smooth rhythms",
                        "💽 Electronic / Digital beats",
                        "🌿 Nature sounds (birds, ocean waves)",
                        "🎙️ Podcast / Audio broadcasts",
                        "🤫 Silence / No sound"
                    ]
                },
                {
                    question: "🍂 What is your favorite season?",
                    options: [
                        "🌸 Spring",
                        "☀️ Summer",
                        "🍁 Autumn",
                        "❄️ Winter"
                    ]
                }
            ];

            const startQuizButton = document.getElementById('start-quiz-button');
            const quizIntro = document.getElementById('quiz-intro');
            const quizContent = document.getElementById('quiz-content');
            const quizResults = document.getElementById('quiz-results');
            
            // Auto-start quiz immediately
            console.log('🧪 Auto-starting Inline Custom Scent Profile Quiz');
            startInlineQuiz();
            
            if (startQuizButton) {
                startQuizButton.addEventListener('click', function() {
                    console.log('🧪 Starting Inline Custom Scent Profile Quiz');
                    startInlineQuiz();
                });
            }
            
            function startInlineQuiz() {
                quizIntro.style.display = 'none';
                quizContent.style.display = 'block';
                currentQuestion = 0;
                quizAnswers = {};
                showQuestion();
            }
            
            function showQuestion() {
                const question = quizQuestions[currentQuestion];
                const questionTitle = document.getElementById('quiz-question-title');
                const questionText = document.getElementById('quiz-question-text');
                const optionsContainer = document.getElementById('quiz-options');
                const progressFill = document.getElementById('quiz-progress-fill');
                const backBtn = document.getElementById('quiz-back-btn');
                const nextBtn = document.getElementById('quiz-next-btn');
                
                // Update progress
                const progress = ((currentQuestion + 1) / quizQuestions.length) * 100;
                progressFill.style.width = progress + '%';
                
                // Update question info
                questionTitle.textContent = `Question ${currentQuestion + 1} of ${quizQuestions.length}`;
                questionText.textContent = question.question;
                
                // Create options or text input
                optionsContainer.innerHTML = '';
                
                if (question.type === 'text') {
                    // Create text input for allergy question
                    const textContainer = document.createElement('div');
                    textContainer.style.gridColumn = '1 / -1';
                    textContainer.style.textAlign = 'center';
                    
                    const textInput = document.createElement('input');
                    textInput.type = 'text';
                    textInput.placeholder = question.placeholder;
                    textInput.style.cssText = `
                        width: 100%;
                        max-width: 400px;
                        padding: 15px;
                        border: 2px solid rgba(255,255,255,0.3);
                        border-radius: 8px;
                        background: rgba(255,255,255,0.1);
                        color: #fff;
                        font-family: 'NCTTorin', sans-serif;
                        font-size: 16px;
                        margin-bottom: 10px;
                    `;
                    
                    const noteText = document.createElement('p');
                    noteText.textContent = question.note;
                    noteText.style.cssText = `
                        color: #ccc;
                        font-size: 14px;
                        margin: 0;
                        font-family: 'NCTTorin', sans-serif;
                    `;
                    
                    textInput.addEventListener('input', () => {
                        quizAnswers[currentQuestion] = textInput.value;
                    });
                    
                    textInput.addEventListener('keypress', (e) => {
                        if (e.key === 'Enter') {
                            quizAnswers[currentQuestion] = textInput.value;
                            // Auto advance on Enter or after a delay
                            setTimeout(() => {
                                if (currentQuestion < quizQuestions.length - 1) {
                                    currentQuestion++;
                                    showQuestion();
                                } else {
                                    showResults();
                                }
                            }, 100);
                        }
                    });
                    
                    // Restore previous answer if exists
                    if (quizAnswers[currentQuestion] !== undefined) {
                        textInput.value = quizAnswers[currentQuestion];
                    }
                    
                    // Add a continue button for text input
                    const continueBtn = document.createElement('button');
                    continueBtn.textContent = 'Continue';
                    continueBtn.style.cssText = `
                        margin-top: 20px;
                        padding: 12px 30px;
                        background: #ff69b4;
                        color: #fff;
                        border: none;
                        border-radius: 8px;
                        font-family: 'NCTTorin', sans-serif;
                        font-size: 16px;
                        cursor: pointer;
                        transition: background 0.3s ease;
                    `;
                    
                    continueBtn.addEventListener('click', () => {
                        quizAnswers[currentQuestion] = textInput.value;
                        if (currentQuestion < quizQuestions.length - 1) {
                            currentQuestion++;
                            showQuestion();
                        } else {
                            showResults();
                        }
                    });
                    
                    continueBtn.addEventListener('mouseenter', () => {
                        continueBtn.style.background = '#ff1493';
                    });
                    
                    continueBtn.addEventListener('mouseleave', () => {
                        continueBtn.style.background = '#ff69b4';
                    });
                    
                    textContainer.appendChild(textInput);
                    textContainer.appendChild(noteText);
                    textContainer.appendChild(continueBtn);
                    optionsContainer.appendChild(textContainer);
                    
                } else {
                    // Create regular options - always use 2 columns with fixed width
                    optionsContainer.style.gridTemplateColumns = 'repeat(2, calc(100vw * (380 / 1920)))';
                    optionsContainer.style.justifyContent = 'center';
                    optionsContainer.style.gap = 'calc(100vw * (25 / 1920))';
                    
                    question.options.forEach((option, index) => {
                        const optionElement = document.createElement('div');
                        optionElement.className = 'quiz-option';
                        optionElement.textContent = option;
                        optionElement.style.cursor = 'pointer';
                        optionElement.style.userSelect = 'none';
                        optionElement.addEventListener('click', (e) => {
                            e.preventDefault();
                            e.stopPropagation();
                            selectOption(index, optionElement);
                            
                            // Auto advance to next question after selection
                            setTimeout(() => {
                                if (currentQuestion < quizQuestions.length - 1) {
                                    currentQuestion++;
                                    showQuestion();
                                } else {
                                    showResults();
                                }
                            }, 300); // Small delay to show selection
                        });
                        
                        // Restore previous selection if exists
                        if (quizAnswers[currentQuestion] === index) {
                            optionElement.classList.add('selected');
                        }
                        
                        optionsContainer.appendChild(optionElement);
                    });
                }
                
                // No navigation buttons needed - auto advance
            }
            
            function selectOption(optionIndex, optionElement) {
                // Remove previous selection
                const allOptions = document.querySelectorAll('.quiz-option');
                allOptions.forEach(opt => opt.classList.remove('selected'));
                
                // Select current option
                optionElement.classList.add('selected');
                
                // Store answer
                quizAnswers[currentQuestion] = optionIndex;
                
                console.log(`Selected option ${optionIndex} for question ${currentQuestion + 1}`);
            }
            
            // No navigation event listeners needed - auto advance
            
            function showResults() {
                quizContent.style.display = 'none';
                quizResults.style.display = 'block';
                
                // Generate personalized results
                const profile = generateDetailedProfile();
                
                // Update profile name and description
                document.getElementById('results-profile-name').textContent = `Main Function Formula - ${profile.name}`;
                document.getElementById('results-profile-desc').textContent = `🧠 ${profile.description}`;
                
                // Generate formula HTML
                const formulaContainer = document.getElementById('results-formula');
                const formulaHtml = profile.formula.map(ingredient => `
                    <div class="results-ingredient">
                        <div>
                            <span class="results-ingredient-name">${ingredient.name}</span>
                            <span class="results-ingredient-percentage">${ingredient.percentage}%</span>
                        </div>
                        <span class="results-ingredient-effect">${ingredient.effect}</span>
                    </div>
                `).join('');
                
                formulaContainer.innerHTML = formulaHtml;
                
                // Calculate AI balance factor
                const totalVisible = profile.formula.reduce((sum, ing) => sum + ing.percentage, 0);
                const aiBalanceFactor = Math.round((100 - totalVisible) * 10) / 10;
                document.getElementById('ai-balance-percentage').textContent = `${aiBalanceFactor}%`;
            }
            
            function generateProfileName() {
                const profiles = [
                    "The Zen Minimalist",
                    "The Creative Energizer", 
                    "The Sophisticated Connoisseur",
                    "The Balanced Harmonizer",
                    "The Natural Purist",
                    "The Bold Experimenter"
                ];
                return profiles[Math.floor(Math.random() * profiles.length)];
            }
            
            function generateDetailedProfile() {
                const profiles = [
                    {
                        name: "The Zen Minimalist",
                        description: "Balanced aromatherapy for calm and focused living",
                        formula: [
                            { name: "Lavender Essential Oil", percentage: 25.4, effect: "Relaxation" },
                            { name: "Bergamot Extract", percentage: 18.2, effect: "Mood Enhancement" },
                            { name: "Eucalyptus Mint", percentage: 15.8, effect: "Mental Clarity" },
                            { name: "Chamomile Compound", percentage: 12.3, effect: "Stress Relief" },
                            { name: "Lemon Verbena", percentage: 8.9, effect: "Energy Balance" }
                        ]
                    },
                    {
                        name: "The Creative Energizer",
                        description: "Dynamic scent blend for inspiration and productivity",
                        formula: [
                            { name: "Citrus Bergamot", percentage: 22.7, effect: "Mental Stimulation" },
                            { name: "Rosemary Extract", percentage: 19.4, effect: "Focus Enhancement" },
                            { name: "Peppermint Oil", percentage: 16.1, effect: "Alertness" },
                            { name: "Grapefruit Essence", percentage: 13.5, effect: "Motivation" },
                            { name: "Basil Compound", percentage: 9.8, effect: "Creativity Boost" }
                        ]
                    },
                    {
                        name: "The Balanced Harmonizer",
                        description: "Adaptive aromatherapy for all-day wellness",
                        formula: [
                            { name: "Sweet Orange Oil", percentage: 20.6, effect: "Mood Stabilization" },
                            { name: "Geranium Extract", percentage: 17.9, effect: "Emotional Balance" },
                            { name: "Frankincense", percentage: 15.2, effect: "Grounding" },
                            { name: "Ylang Ylang", percentage: 13.8, effect: "Harmony" },
                            { name: "Cedarwood Base", percentage: 11.4, effect: "Stability" }
                        ]
                    }
                ];
                
                const randomProfile = profiles[Math.floor(Math.random() * profiles.length)];
                return randomProfile;
            }
            
            // Event listeners for results buttons
            document.getElementById('results-restart-btn').addEventListener('click', () => {
                quizResults.style.display = 'none';
                quizIntro.style.display = 'grid';
                currentQuestion = 0;
                quizAnswers = {};
            });
            
            document.getElementById('results-save-btn').addEventListener('click', () => {
                // Save profile to localStorage
                const profileData = {
                    name: document.getElementById('results-profile-name').textContent,
                    description: document.getElementById('results-profile-desc').textContent,
                    timestamp: new Date().toISOString()
                };
                localStorage.setItem('odorai_scent_profile', JSON.stringify(profileData));
                
                // Show success message
                alert('Your custom scent profile has been saved! ÔDÔRAI will use this to personalize your aromatherapy experience.');
            });

            console.log('🏠 Homepage with carousel, video triggers, and quiz integration initialized successfully');
        });
    </script>

</body>
</html>